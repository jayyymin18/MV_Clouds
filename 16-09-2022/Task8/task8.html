<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="task8.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1 id="title" class="text-center">Academic Form</h1>
        <p id="description" class="description text-center">
          Enter your information for your bright academic year
        </p>
      </header>
      <form id="survey-form">
        <div class="form-group">
          <label id="name-label" for="name">Name</label>
          <input
            type="text"
            name="name"
            id="name"
            class="form-control"
            placeholder="Enter your name"
            required
          />
        </div>
        <div class="form-group">
          <label id="email-label" for="email">Email</label>
          <input
            type="email"
            name="email"
            id="email"
            class="form-control"
            placeholder="Enter your Email"
            required
          />
        </div>
        <div class="form-group">
          <label for="date">Birthdate</label>
          <!-- <input
            type="date"
            name="birthdate"
            id="birthdate"
            class="form-control"
            placeholder="Enter your Birthdate"
            onchange="calage()"
            required
          /> -->
          <input
            type="date"
            id="birthday"
            name="birthday"
            class="form-control"
            onchange="agedate()"
          />
        </div>
        <div class="form-group">
          <p>Gender</p>
          <select id="dropdown" name="role" class="form-control" required>
            <option disabled selected value>Select your Gender</option>
            <option value="student">Male</option>
            <option value="job">Female</option>
            <option value="other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label id="number-label" for="number"
            >Age<span class="clue"></span
          ></label>
          <div id="calcage"></div>
        </div>

        <!-- <div class="form-group">
          <label id="number-label" for="number"
            >Age<span class="clue">(optional)</span></label
          >
          <input
            type="number"
            name="number"
            id="number"
            min="10"
            max="100"
            class="form-control"
            placeholder="Enter your Age"
          />
        </div> -->
        <div class="form-group">
          <p>Admission type</p>
          <select id="dropdown" name="role" class="form-control" required>
            <option disabled selected value>Select your Admission type</option>
            <option value="Management">Management</option>
            <option value="Regular">Regular</option>
            <option value="NRI">NRI</option>
            <option value="preferNo">Prefer not to say</option>
          </select>
        </div>
        <div class="form-group">
          <p>Year you study</p>
          <select id="dropdown" name="role" class="form-control" required>
            <option disabled selected value>Select your current year</option>
            <option value="Freshmen Year">Freshmen Year</option>
            <option value="Junior Year">Junior Year</option>
            <option value="Senior Year">Senior Year</option>
            <option value="Final Year">Final Year</option>
          </select>
        </div>

        <div class="form-group">
          <p>Academic Status</p>
          <label>
            <input
              name="user-recommend"
              value="Regular"
              type="radio"
              class="input-radio"
              checked
            />Regular</label
          >
          <label>
            <input
              name="user-recommend"
              value="ATKT"
              type="radio"
              class="input-radio"
            />ATKT</label
          >

          <label
            ><input
              name="user-recommend"
              value="Year Drop"
              type="radio"
              class="input-radio"
            />Year Drop</label
          >
        </div>

        <div class="form-group">
          <p>Branch</p>
          <select id="most-like" name="mostLike" class="form-control" required>
            <option disabled selected value>Select branch</option>
            <option value="Computer">Computer</option>
            <option value="IT">IT</option>
            <option value="Mechanical">Mechanical</option>
            <option value="Civil">Civil</option>
          </select>
        </div>

        <div class="form-group">
          <p>Intrest/Hobbies</p>
          <textarea
            id="comments"
            class="input-textarea"
            name="comment"
            placeholder="Enter your Intrest/Hobbies..."
          ></textarea>
        </div>

        <div class="form-group">
          <p>
            I agree to college terms and conditions.
            <span class="clue">(Check that apply)</span>
          </p>

          <label
            ><input
              name="prefer"
              value="Yes"
              type="checkbox"
              class="input-checkbox"
            />Yes</label
          >
          <label>
            <input
              name="prefer"
              value="No"
              type="checkbox"
              class="input-checkbox"
            />No</label
          >
        </div>

        <div class="form-group">
          <button type="submit" id="submit" class="submit-button">
            Submit
          </button>
        </div>
      </form>
      <script>
        function agedate() {
          if (bdate > today) {
            alert("Date should not be greater than today");
          }
          console.log("date");
          var bdate = document.getElementById("birthday").value;
          console.log(bdate);
          var today = new Date();
          console.log(today);
          var x = Date.now() - new Date(bdate).getTime();
          var ageDate = new Date(x);
          var y = Math.abs(ageDate.getUTCFullYear() - 1970);
          //console.log(y);
          document.getElementById("calcage").innerHTML = y;
        }
        document
          .getElementById("birthdate")
          .addEventListener("change", calage());
        function calage() {
          var date = document.getElementById("birthdate");
          console.log("date");
          console.log({ date });
          var today = new Date();
          var birthDate = new Date(date);
          var age = today.getFullYear() - birthDate.getFullYear();
          var m = today.getMonth() - birthDate.getMonth();
          if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
            age--;
          }
          document.getElementById("calcage").innerHTML = age;
        }
      </script>
    </div>
  </body>
</html>
